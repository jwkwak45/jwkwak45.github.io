<html>
    <head> 
    <link rel="stylesheet" type="text/css" href="css/index.css">
    </head>
    <body>
         <!--리스트공간-->
        <section id = "list">
        

        </section>

        <!--리스트 추가 버튼-->
        <div id ="addlistbutton">
            + 새 목록 
        </div>

    <!--제이쿼리-->
    <script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>
    
    <!--메인파일-->
    <script src="main.js"></script>

    <!--스크립트-->
    <script>

    // 렌더링 함수
    var render = function(data,status){
        $("#list").empty();  
        
        $.each(data.data,function(i,n){
        
        if (n.icon == "&#8942;&#9776;"){
            n.icon = '<font color = "'+ n.color +'">' + n.icon + "</font>"
        }
        if (n.icon == "sun"){
          
         n.icon = URLS.icon.sun;
        };
        if (n.icon == "check"){
            n.icon = URLS.icon.checkicon;
        };

        if (n.count == "0"){
            n.count = ""
        }

        $("#list").append( '<div class = "tl" onclick="network(\'eachList\', null, \'' +n.id+ '\')" >'+ n.icon + "&nbsp;&nbsp;"+ n.name  +'<span class = "count">'+ n.count + "</span>  </div>");

    });

    };

   

     //시작 함수
     var init = (function(){

                $("#addlistbutton").click(function(e){
                    
                 var name = prompt("새 목록");
                 name = name.trim();
                if(!name && name.length < 3){
                alert("2자 이상의 할 일을 적어주세요");
                 return;
                }

              network("addList", render, name);
                        });

              network("list",render);

        });

        init(); 

   


    </script>
    
    </body>
    </html>
    